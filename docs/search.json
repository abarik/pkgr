[
  {
    "objectID": "07_atlagabra.html#átlagok-egy-faktor-esetén",
    "href": "07_atlagabra.html#átlagok-egy-faktor-esetén",
    "title": "7  Átlagábrák",
    "section": "7.1 Átlagok egy faktor esetén",
    "text": "7.1 Átlagok egy faktor esetén\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Smoke változó a dohányzásra vonatkozó kérdésre adott válaszokat tartalmazza. A Pulse változó a pulzust méri. Adjuk meg a pulzus átlagát a dohányzási szokás egyes csoportjaiban. Jelenítsük meg a 95%-os konfidencia intervallumot is.\n\n\n\n7.1.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n7.1.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke, ordered = T)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n\n\n\n7.1.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Pulse\", split = \"Smoke\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                \n#&gt;  ─────────────────────────────────────────── \n#&gt;                          Smoke    Pulse      \n#&gt;  ─────────────────────────────────────────── \n#&gt;    N                     Never         152   \n#&gt;                          Occas          16   \n#&gt;                          Regul          16   \n#&gt;                          Heavy           7   \n#&gt;    Missing               Never          37   \n#&gt;                          Occas           3   \n#&gt;                          Regul           1   \n#&gt;                          Heavy           4   \n#&gt;    Mean                  Never    73.99342   \n#&gt;                          Occas    73.93750   \n#&gt;                          Regul    73.68750   \n#&gt;                          Heavy    78.28571   \n#&gt;    Median                Never    72.00000   \n#&gt;                          Occas    76.00000   \n#&gt;                          Regul    69.00000   \n#&gt;                          Heavy    80.00000   \n#&gt;    Standard deviation    Never    11.71035   \n#&gt;                          Occas    9.226547   \n#&gt;                          Regul    14.42553   \n#&gt;                          Heavy    11.70063   \n#&gt;    Minimum               Never    35.00000   \n#&gt;                          Occas    60.00000   \n#&gt;                          Regul    50.00000   \n#&gt;                          Heavy    65.00000   \n#&gt;    Maximum               Never    104.0000   \n#&gt;                          Occas    87.00000   \n#&gt;                          Regul    104.0000   \n#&gt;                          Heavy    100.0000   \n#&gt;  ───────────────────────────────────────────\n\n\n\n7.1.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most oszlopdiagramon ábrázoljuk az átlagokat és a hozzájuk tartozó 95%-os konfidencia intervallumot. Ehhez a pointrange geometriai elemet hívjuk segítségül.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # oszlop kirajzolása\n        stat_summary(fun=mean, geom=\"bar\", fill=\"#dcdcdc\", colour=\"black\") + \n        # hozzá tartozó konfidencia intervallum kirajzolása, pointrange\n        stat_summary(fun.data=mean_cl_normal, geom=\"pointrange\") +\n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.1.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most oszlopdiagramon ábrázoljuk az átlagokat és a hozzájuk tartozó 95%-os konfidencia intervallumot. Ehhez az errorbar geometriai elemet hívjuk segítségül.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # oszlop kirajzolása\n        stat_summary(fun=mean, geom=\"bar\", fill=\"#dcdcdc\", colour=\"black\") + \n        # hozzá tartozó konfidencia intervallum kirajzolása, errorbar\n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_02.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.1.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most pontokkal ábrázoljuk az átlagokat. A 95%-os konfidencia intervallumot az errorbar segítségével hozzuk létre.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # konfidencia intervallum kirajzolása, errorbar \n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n        # átlagok kirajzolása, pontokkal\n        stat_summary(fun=mean, geom=\"point\", \n                     size=2, shape=21, fill=\"#dcdcdc\", colour=\"black\") + \n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.1.7 Publikációkész ábra - 4.\nElkészítjük a publikációkész ábrát. Most pontokkal ábrázoljuk az átlagokat. A 95%-os konfidencia intervallumot az errorbar segítségével hozzuk létre. Az átlagokat vonallal is összekötjük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # konfidencia intervallum kirajzolása, errorbar \n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n        # vonal megrajzolása\n        stat_summary(fun=mean, geom=\"line\", aes(group=1),\n                     colour=\"black\", linetype=\"dashed\") +\n        # átlagok kirajzolása, pontokkal\n        stat_summary(fun=mean, geom=\"point\", \n                     size=2, shape=21, fill=\"#dcdcdc\", colour=\"black\") + \n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "07_atlagabra.html#átlagok-két-faktor-esetén",
    "href": "07_atlagabra.html#átlagok-két-faktor-esetén",
    "title": "7  Átlagábrák",
    "section": "7.2 Átlagok két faktor esetén",
    "text": "7.2 Átlagok két faktor esetén\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Smoke változó a dohányzásra vonatkozó kérdésre adott válaszokat tartalmazza, a Sex változó a nemre vonatkozó információt tárolja. A Pulse változó a pulzust méri. Adjuk meg a pulzus átlagát a dohányzási szokás és a nem egyes csoportjaiban. Jelenítsük meg a 95%-os konfidencia intervallumot is.\n\n\n\n7.2.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n7.2.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na nem változó (Sex) nominális, így faktorrá kell alakítanunk,\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk,\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe,\nazokkal a személyekkel nem szeretnénk elemzést végezni, akiknek nincs megadva a nemük, így ezeket a sorokat kiszűrjük az adatbázisból.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Sex &lt;- factor(d$Sex)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n# kiszűrjük azokat a személyeket,akiknek nincs megadva a nemük\nd &lt;- d |&gt;\n    dplyr::filter(!is.na(Sex))\n\n\n\n7.2.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Pulse\", split = c(\"Smoke\", \"Sex\"))\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                          \n#&gt;  ───────────────────────────────────────────────────── \n#&gt;                          Smoke    Sex       Pulse      \n#&gt;  ───────────────────────────────────────────────────── \n#&gt;    N                     Never    Female          79   \n#&gt;                                   Male            72   \n#&gt;                          Occas    Female           8   \n#&gt;                                   Male             8   \n#&gt;                          Regul    Female           4   \n#&gt;                                   Male            12   \n#&gt;                          Heavy    Female           4   \n#&gt;                                   Male             3   \n#&gt;    Missing               Never    Female          20   \n#&gt;                                   Male            17   \n#&gt;                          Occas    Female           1   \n#&gt;                                   Male             2   \n#&gt;                          Regul    Female           1   \n#&gt;                                   Male             0   \n#&gt;                          Heavy    Female           1   \n#&gt;                                   Male             3   \n#&gt;    Mean                  Never    Female    75.60759   \n#&gt;                                   Male      72.23611   \n#&gt;                          Occas    Female    73.37500   \n#&gt;                                   Male      74.50000   \n#&gt;                          Regul    Female    69.25000   \n#&gt;                                   Male      75.16667   \n#&gt;                          Heavy    Female    75.00000   \n#&gt;                                   Male      82.66667   \n#&gt;    Median                Never    Female    75.00000   \n#&gt;                                   Male      72.00000   \n#&gt;                          Occas    Female    78.00000   \n#&gt;                                   Male      73.50000   \n#&gt;                          Regul    Female    67.50000   \n#&gt;                                   Male      72.00000   \n#&gt;                          Heavy    Female    76.00000   \n#&gt;                                   Male      83.00000   \n#&gt;    Standard deviation    Never    Female    11.40784   \n#&gt;                                   Male      11.94293   \n#&gt;                          Occas    Female    11.23690   \n#&gt;                                   Male      7.445037   \n#&gt;                          Regul    Female    17.38534   \n#&gt;                                   Male      13.84875   \n#&gt;                          Heavy    Female    6.000000   \n#&gt;                                   Male      17.50238   \n#&gt;    Minimum               Never    Female    40.00000   \n#&gt;                                   Male      35.00000   \n#&gt;                          Occas    Female    60.00000   \n#&gt;                                   Male      66.00000   \n#&gt;                          Regul    Female    50.00000   \n#&gt;                                   Male      54.00000   \n#&gt;                          Heavy    Female    68.00000   \n#&gt;                                   Male      65.00000   \n#&gt;    Maximum               Never    Female    104.0000   \n#&gt;                                   Male      97.00000   \n#&gt;                          Occas    Female    87.00000   \n#&gt;                                   Male      87.00000   \n#&gt;                          Regul    Female    92.00000   \n#&gt;                                   Male      104.0000   \n#&gt;                          Heavy    Female    80.00000   \n#&gt;                                   Male      100.0000   \n#&gt;  ─────────────────────────────────────────────────────\n\n\n\n7.2.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most oszlopdiagramon ábrázoljuk az átlagokat és a hozzájuk tartozó 95%-os konfidencia intervallumot. Ehhez a pointrange geometriai elemet hívjuk segítségül.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse, fill=Sex)) + \n        # oszlop kirajzolása\n        stat_summary(fun=mean, geom=\"bar\", position=\"dodge\", col=\"#656565\") + \n        # hozzá tartozó konfidencia intervallum kirajzolása, pointrange\n        stat_summary(fun.data=mean_cl_normal, geom=\"pointrange\",\n                     position=position_dodge(width=0.90), show_guide = FALSE) +\n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#DCDCDC\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\", fill=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw() +\n        # a jelmagyarázat pozíciójának beállítása\n        theme(legend.position = \"top\")\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_05.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.2.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most oszlopdiagramon ábrázoljuk az átlagokat és a hozzájuk tartozó 95%-os konfidencia intervallumot. Ehhez az errorbar geometriai elemet hívjuk segítségül.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse, fill=Sex)) + \n        # oszlop kirajzolása\n        stat_summary(fun=mean, geom=\"bar\", position=\"dodge\", col=\"#656565\") + \n        # hozzá tartozó konfidencia intervallum kirajzolása, errorbar\n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2,\n                     position=position_dodge(width=0.90), show_guide = FALSE) +\n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#DCDCDC\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\", fill=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw() +\n        # a jelmagyarázat pozíciójának beállítása\n        theme(legend.position = \"top\")\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_06.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.2.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most pontokkal ábrázoljuk az átlagokat. A 95%-os konfidencia intervallumot az errorbar segítségével hozzuk létre.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse, fill=Sex, shape=Sex)) + \n        # hozzá tartozó konfidencia intervallum kirajzolása, errorbar\n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2,\n                     position=position_dodge(width=0.6), show_guide = FALSE) +\n        # átlagok kirajzolása, pontokkal\n        stat_summary(fun=mean, geom=\"point\", position=position_dodge(width=0.6),\n                     size=2) + \n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#DCDCDC\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # a pont (shape) paraméterek beállítása\n        scale_shape_manual(values = c(21,22),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\", fill=\"Nem\", shape=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw() +\n        # a jelmagyarázat pozíciójának beállítása\n        theme(legend.position = \"top\")\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_07.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n7.2.7 Publikációkész ábra - 4.\nElkészítjük a publikációkész ábrát. Most pontokkal ábrázoljuk az átlagokat. A 95%-os konfidencia intervallumot az errorbar segítségével hozzuk létre. Az átlagokat vonallal is összekötjük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse, \n                         fill=Sex, shape=Sex)) + \n        # vonal megrajzolása\n        stat_summary(fun=mean, geom=\"line\", aes(group=Sex, linetype=Sex), \n                     colour=\"black\",position=position_dodge(width=0.2)) +\n        # hozzá tartozó konfidencia intervallum kirajzolása, errorbar\n        stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2,\n                     position=position_dodge(width=0.2), show_guide = FALSE) +\n        # átlagok kirajzolása, pontokkal\n        stat_summary(fun=mean, geom=\"point\", position=position_dodge(width=0.2),\n                     size=2) + \n        # az y tengely látható tartományának beállítása\n        coord_cartesian(ylim = c(0, 100)) +\n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#DCDCDC\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # a pont (shape) paraméterek beálltása  \n        scale_shape_manual(values = c(21,22),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # a vonal (linetype) paraméterek beálltása\n        scale_linetype_manual(values = c(1,2),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\", \n             fill=\"Nem\", shape=\"Nem\", linetype=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw() +\n        # a jelmagyarázat pozíciójának beállítása\n        theme(legend.position = \"top\")\n\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/atlagabra_08.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "01_bevezetes.html",
    "href": "01_bevezetes.html",
    "title": "1  Bevezetés",
    "section": "",
    "text": "A {ggplot2} nagyszerű funkcióinak használatához a következő előkészítő lépésekre van szükség:\n\nTelepítenünk kell a számítógéünkre az R statisztikai programcsomagot, amely letölthető a https://cran.r-project.org/ címről.\nTelepítenünk kell az RStudio fejlesztői környezetet, amely letölthető a https://posit.co/download/rstudio-desktop/ címről.\nEl kell indítanunk az RStudio programot.\nLétre kell hoznunk egy új projektet az RStudio-ban. Ezt a File -&gt; New Project menüpont alatt tehetjük meg. A projektet a New Directory opcióval hozhatjuk létre. Válasszuk a New Project opciót, majd adjuk meg a projektkönyvtár nevét és helyét. Most feltételezzük, hogy a projekt neve kesz_abrak és a helye a C:/Users/Public/Documents könyvtárban van. A projekt létrehozása után a RStudio megnyitja a projektet, és a projekt könyvtárában lévő fájlokat jeleníti meg.\nLétre kell hoznunk egy új R szkript fájlt. Ezt a File -&gt; New File -&gt; R Script menüpont alatt tehetjük meg. Ezt a fájlt a kesz_abrak projekt könyvtárában hozzuk létre. A fájl neve legyen abrak_publikalasa.R.\nA kesz_abrak projekt könyvtárában hozzunk létre egy új almappát, amelynek a neve adat legyen. Ebben az almappában tároljuk majd az ábrák létrehozásához szükséges adatokat. Amennyiben már rendelkezünk az adatokkal, akkor másoljuk be azokat ebbe az almappába. Ha az adataink jamovi .omv állományban állnak rendelkezésre, akkor azokat a jamovi program segítségével exportálhatjuk ki ebbe az almappába. Használjuk az SPSS .sav formátumot.\nA kesz_abrak projekt könyvtárában hozzunk létre egy új almappát, amelynek a neve output legyen, majd ebben hozzunk létre egy kep nevű almappát. Ebben az almappában tároljuk majd az elkészített ábrákat.\n\nA fenti előkészítés után már készen állunk az ábrák létrehozására. Az első lépésben gondoskodni fogunk a {ggplot2} csomag telepítéséről és betöltéséről. A következő lépésben pedig megismerkedünk a {ggplot2} csomag nagyszerű funkcióival.\nA következő fejezetekben minden R parancsot az abrak_publikalasa.R nevű szkriptállományba írjunk, és a Ctrl+Enter billentyűkombinációval futtassuk le azokat."
  },
  {
    "objectID": "02_telepites.html",
    "href": "02_telepites.html",
    "title": "2  Szükséges csomagok",
    "section": "",
    "text": "Az első lépésben telepítenünk kell a {ggplot2} csomagot. Ezt a következő paranccsal tehetjük meg:\n\n# ggplot2 csomag telepítése\ninstall.packages(\"ggplot2\")\n\nAz ábrák létrehozása során minimális adatmanipulációra is szükségünk lehet. Ezt a {tidyverse} csomag segítségével végezhetjük el. Telepítsük ezt a csomagot is a következő paranccsal:\n\n# a tidyverse csomag telepítése\ninstall.packages(\"tidyverse\")\n\nAz ábrák létrehozását minden esetben az adatok beolvasása előzi meg. Az adatok beolvasására a {rio} csomagot használjuk. Telepítsük ezt a csomagot is a következő paranccsal:\n\n# a rio csomag telepítése\ninstall.packages(\"rio\")\n\nTovábbi csomagok telepítésére is szükség van:\n\n# ggk4x csomag a normális eloszlás sűrűségfüggvényének kirajzolásához\ninstall.packages(\"ggh4x\")\n# jmv csomag a jamovi elemzések futtatásához\ninstall.packages(\"jmv\")\n# GGally csomag a az oszlopdiagramok helyes megjelenítéséhez\ninstall.packages(\"GGally\")\n\nAmennyiben szeretnénk kipróbálni a jegyzetben lévő R sorokat, használjuk a következő R parancsot, amely létrehozza azt az adatbázist, amelyet a jegyzetben használunk:\n\nrio::export(MASS::survey, \"adat/survey.xlsx\")"
  },
  {
    "objectID": "03_hisztogram.html#eloszlás-egy-csoportra",
    "href": "03_hisztogram.html#eloszlás-egy-csoportra",
    "title": "3  Hisztogram és barátai",
    "section": "3.1 Eloszlás egy csoportra",
    "text": "3.1 Eloszlás egy csoportra\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Height változó a magasságot tartalmazza cm-ben. Készítsünk hisztogramot és simított hisztogramot a magasság változóra. Vessük össze a normális eloszlás görbéjével.\n\n\n\n3.1.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n3.1.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges. Most sem.\n\n\n3.1.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Height\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                       \n#&gt;  ────────────────────────────────── \n#&gt;                          Height     \n#&gt;  ────────────────────────────────── \n#&gt;    N                          209   \n#&gt;    Missing                     28   \n#&gt;    Mean                  172.3809   \n#&gt;    Median                171.0000   \n#&gt;    Standard deviation    9.847528   \n#&gt;    Minimum               150.0000   \n#&gt;    Maximum               200.0000   \n#&gt;  ──────────────────────────────────\n\n\n\n3.1.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most hisztogramon jelenítjük meg a változó eloszlását.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # hisztogram kirajzolása\n        geom_histogram(color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y = \"Gyakoriság\") + \n        # fekete-fehér stílus hozzáadása\n        theme_bw() \n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.1.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most simított hisztogramon jelenítjük meg a változó eloszlását.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", fill = \"#cccccc\") + \n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) + \n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_02.png\", plot = p1, \n       units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.1.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most a hisztogramot és a simított hisztogramot összevetjük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height, after_stat(density))) + \n        # hisztogram kirajzolása\n        geom_histogram(color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", linewidth=0.8) +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n          \n  \n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_08.png\", plot = p1, \n       units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.1.7 Publikációkész ábra - 4.\nElkészítjük a publikációkész ábrát. Most a simított hisztogramot összevetjük a normális eloszlás görbéjével (szaggatott vonal).\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\") + \n        # normális eloszlás görbéjének kirajzolása\n        ggh4x::stat_theodensity(linewidth=0.8, linetype=\"dashed\") +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) + \n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_03.png\", plot = p1, units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.1.8 Publikációkész ábra - 5.\nElkészítjük a publikációkész ábrát. Most a hisztogramot és a simított hisztogramot összevetjük a normális eloszlás görbéjével (szaggatott vonal).\n\n# adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # hisztogram kirajzolása\n        geom_histogram(aes(y=after_stat(density)), color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", linewidth=0.8) + \n        # normális eloszlás görbéjének kirajzolása\n        ggh4x::stat_theodensity(linewidth=0.8, linetype=\"dashed\") +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) + \n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_04.png\", plot = p1, units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "03_hisztogram.html#eloszlás-több-csoportra",
    "href": "03_hisztogram.html#eloszlás-több-csoportra",
    "title": "3  Hisztogram és barátai",
    "section": "3.2 Eloszlás több csoportra",
    "text": "3.2 Eloszlás több csoportra\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Height változó a magasságot tartalmazza cm-ben. Készítsünk hisztogramot a magasság változóra a testmozgás gyakorisága (Exer változó) szerint csoportosítva.\n\n\n\n3.2.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n3.2.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na testmozgás gyakoriságát tartalmazó változó (Exer) ordinális, így faktorrá kell alakítanunk\nrendezzük az ordinálissá alakított Exer változó szintjeit a természetes sorrendbe\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Exer &lt;- factor(d$Exer, ordered = T)\n# faktor szintjeinek rendezése\nd$Exer &lt;- forcats::fct_relevel(d$Exer, \"None\", \"Some\", \"Freq\")\n\n\n\n3.2.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Height\", splitBy = \"Exer\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                               \n#&gt;  ────────────────────────────────────────── \n#&gt;                          Exer    Height     \n#&gt;  ────────────────────────────────────────── \n#&gt;    N                     None          20   \n#&gt;                          Some          84   \n#&gt;                          Freq         105   \n#&gt;    Missing               None           4   \n#&gt;                          Some          14   \n#&gt;                          Freq          10   \n#&gt;    Mean                  None    169.0280   \n#&gt;                          Some    170.3969   \n#&gt;                          Freq    174.6067   \n#&gt;    Median                None    167.0000   \n#&gt;                          Some    168.9500   \n#&gt;                          Freq    173.0000   \n#&gt;    Standard deviation    None    9.470654   \n#&gt;                          Some    9.471735   \n#&gt;                          Freq    9.778547   \n#&gt;    Minimum               None    157.4800   \n#&gt;                          Some    152.0000   \n#&gt;                          Freq    150.0000   \n#&gt;    Maximum               None    190.5000   \n#&gt;                          Some    193.0400   \n#&gt;                          Freq    200.0000   \n#&gt;  ──────────────────────────────────────────\n\n\n\n3.2.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most hisztogramon jelenítjük meg a változó eloszlását a testmozgás gyakorisága szerint csoportosítva.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # hisztogram kirajzolása\n        geom_histogram(color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # csoportosítás a testmozgás gyakorisága szerint\n        facet_wrap(~ Exer, ncol = 1, \n                   labeller = labeller(Exer = c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\"))) +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y = \"Gyakoriság\") + \n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_05.png\", plot = p1, \n       units = \"in\", width = 6, height = 10, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.2.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most simított hisztogramon jelenítjük meg a változó eloszlását a testmozgás gyakorisága szerint csoportosítva.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", fill = \"#cccccc\") + \n        # csoportosítás a testmozgás gyakorisága szerint\n        facet_wrap(~ Exer, ncol = 1, \n                   labeller = labeller(Exer = c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\"))) + \n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 10, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.2.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most az egyes csoportok simított hisztogramjait egyetlen ábrán jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height, fill=Exer)) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", alpha=0.4) + \n        # kitöltőszín beállítása\n        scale_fill_grey(start=1, end=0, labels=c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\")) +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y = NULL, fill=\"Testmozgás\") + \n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_05.png\", plot = p1, \n       units = \"in\", width = 6, height = 4, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.2.7 Publikációkész ábra - 4.\nElkészítjük a publikációkész ábrát. Most az egyes csoportok hisztogramját és simított hisztogramját egyetlen ábrán jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # hisztogram kirajzolása\n        geom_histogram(aes(y=after_stat(density)), color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", linewidth=0.8) + \n        # csoportosítás a testmozgás gyakorisága szerint\n        facet_wrap(~ Exer, ncol = 1, \n                   labeller = labeller(Exer = c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\"))) +\n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_07.png\", plot = p1, \n       units = \"in\", width = 6, height = 10, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.2.8 Publikációkész ábra - 5.\nElkészítjük a publikációkész ábrát. Most az egyes csoportok hisztogramját és a normális eloszlás gorbéjét is egyetlen ábrán jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height, y=after_stat(density))) + \n        # hisztogram kirajzolása\n        geom_histogram(color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # normális eloszlás görbéjének kirajzolása\n        ggh4x::stat_theodensity(linewidth=0.8, linetype=\"dashed\") +\n        # felosztás a testmozgás gyakorisága szerint\n        facet_wrap(~ Exer, ncol = 1, \n                   labeller = labeller(Exer = c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\"))) + \n        # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n        \n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_10.png\", plot = p1, \n       units = \"in\", width = 6, height = 10, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n3.2.9 Publikációkész ábra - 6.\nElkészítjük a publikációkész ábrát. Most az egyes csoportok hisztogramját, simított hisztogramját és a normális eloszlás gorbéjét is egyetlen ábrán jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Height)) + \n        # hisztogram kirajzolása\n        geom_histogram(aes(y=after_stat(density)), color = \"black\", fill = \"#cccccc\", binwidth = 5) + \n        # simított hisztogram kirajzolása\n        ggh4x::stat_theodensity(linewidth=0.8, linetype=\"dashed\") +\n        # simított hisztogram kirajzolása\n        geom_density(color = \"black\", linewidth=0.8) + \n        # csoportosítás a testmozgás gyakorisága szerint\n        facet_wrap(~ Exer, ncol = 1, \n                  labeller = labeller(Exer = c(None=\"Nincs\", Some=\"Kevés\", Freq=\"Gyakori\"))) +\n          # tengelyfeliratok hozzáadása\n        labs(x = \"Magasság\", y=NULL) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/hisztogram_11.png\", plot = p1, \n       units = \"in\", width = 6, height = 10, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "04_dobozdiagram.html#dobozdiagram-1-faktorral",
    "href": "04_dobozdiagram.html#dobozdiagram-1-faktorral",
    "title": "4  Dobozdiagram",
    "section": "4.1 Dobozdiagram 1 faktorral",
    "text": "4.1 Dobozdiagram 1 faktorral\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Pulse változó a pulzust tartalmazza. Készítsünk dobozdiagramot a pulzus változóra a dohányzási szokás figyelembevételével (Smoke változó).\n\n\n\n4.1.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n4.1.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke, ordered = T)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n\n\n\n4.1.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Pulse\", split = \"Smoke\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                \n#&gt;  ─────────────────────────────────────────── \n#&gt;                          Smoke    Pulse      \n#&gt;  ─────────────────────────────────────────── \n#&gt;    N                     Never         152   \n#&gt;                          Occas          16   \n#&gt;                          Regul          16   \n#&gt;                          Heavy           7   \n#&gt;    Missing               Never          37   \n#&gt;                          Occas           3   \n#&gt;                          Regul           1   \n#&gt;                          Heavy           4   \n#&gt;    Mean                  Never    73.99342   \n#&gt;                          Occas    73.93750   \n#&gt;                          Regul    73.68750   \n#&gt;                          Heavy    78.28571   \n#&gt;    Median                Never    72.00000   \n#&gt;                          Occas    76.00000   \n#&gt;                          Regul    69.00000   \n#&gt;                          Heavy    80.00000   \n#&gt;    Standard deviation    Never    11.71035   \n#&gt;                          Occas    9.226547   \n#&gt;                          Regul    14.42553   \n#&gt;                          Heavy    11.70063   \n#&gt;    Minimum               Never    35.00000   \n#&gt;                          Occas    60.00000   \n#&gt;                          Regul    50.00000   \n#&gt;                          Heavy    65.00000   \n#&gt;    Maximum               Never    104.0000   \n#&gt;                          Occas    87.00000   \n#&gt;                          Regul    104.0000   \n#&gt;                          Heavy    100.0000   \n#&gt;  ───────────────────────────────────────────\n\n\n\n4.1.4 Publikációkész ábra\nElkészítjük a publikációkész ábrát.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # dobozdiagram kirajzolása\n        geom_boxplot(fill=\"#DCDCDC\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/dobozdiagram_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "04_dobozdiagram.html#dobozdiagram-2-faktorral",
    "href": "04_dobozdiagram.html#dobozdiagram-2-faktorral",
    "title": "4  Dobozdiagram",
    "section": "4.2 Dobozdiagram 2 faktorral",
    "text": "4.2 Dobozdiagram 2 faktorral\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Pulse változó a pulzust tartalmazza. Készítsünk dobozdiagramot a pulzus változóra a dohányzási szokás (Smoke változó) és a nem (Sex) figyelembevételével.\n\n\n\n4.2.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n4.2.2 Előkészítés elemzésre\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na nem változó (Sex) nominális, így faktorrá kell alakítanunk,\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk,\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe,\nazokkal a személyekkel nem szeretnénk elemzést végezni, akiknek nincs megadva a nemük, így ezeket a sorokat kiszűrjük az adatbázisból.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Sex &lt;- factor(d$Sex)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n# kiszűrjük azokat a személyeket,akiknek nincs megadva a nemük\nd &lt;- d |&gt;\n    dplyr::filter(!is.na(Sex))\n\n\n\n4.2.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\nlibrary(jmv)\njmv::descriptives(data = d, vars = \"Pulse\", split = c(\"Smoke\", \"Sex\"))\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                          \n#&gt;  ───────────────────────────────────────────────────── \n#&gt;                          Smoke    Sex       Pulse      \n#&gt;  ───────────────────────────────────────────────────── \n#&gt;    N                     Never    Female          79   \n#&gt;                                   Male            72   \n#&gt;                          Occas    Female           8   \n#&gt;                                   Male             8   \n#&gt;                          Regul    Female           4   \n#&gt;                                   Male            12   \n#&gt;                          Heavy    Female           4   \n#&gt;                                   Male             3   \n#&gt;    Missing               Never    Female          20   \n#&gt;                                   Male            17   \n#&gt;                          Occas    Female           1   \n#&gt;                                   Male             2   \n#&gt;                          Regul    Female           1   \n#&gt;                                   Male             0   \n#&gt;                          Heavy    Female           1   \n#&gt;                                   Male             3   \n#&gt;    Mean                  Never    Female    75.60759   \n#&gt;                                   Male      72.23611   \n#&gt;                          Occas    Female    73.37500   \n#&gt;                                   Male      74.50000   \n#&gt;                          Regul    Female    69.25000   \n#&gt;                                   Male      75.16667   \n#&gt;                          Heavy    Female    75.00000   \n#&gt;                                   Male      82.66667   \n#&gt;    Median                Never    Female    75.00000   \n#&gt;                                   Male      72.00000   \n#&gt;                          Occas    Female    78.00000   \n#&gt;                                   Male      73.50000   \n#&gt;                          Regul    Female    67.50000   \n#&gt;                                   Male      72.00000   \n#&gt;                          Heavy    Female    76.00000   \n#&gt;                                   Male      83.00000   \n#&gt;    Standard deviation    Never    Female    11.40784   \n#&gt;                                   Male      11.94293   \n#&gt;                          Occas    Female    11.23690   \n#&gt;                                   Male      7.445037   \n#&gt;                          Regul    Female    17.38534   \n#&gt;                                   Male      13.84875   \n#&gt;                          Heavy    Female    6.000000   \n#&gt;                                   Male      17.50238   \n#&gt;    Minimum               Never    Female    40.00000   \n#&gt;                                   Male      35.00000   \n#&gt;                          Occas    Female    60.00000   \n#&gt;                                   Male      66.00000   \n#&gt;                          Regul    Female    50.00000   \n#&gt;                                   Male      54.00000   \n#&gt;                          Heavy    Female    68.00000   \n#&gt;                                   Male      65.00000   \n#&gt;    Maximum               Never    Female    104.0000   \n#&gt;                                   Male      97.00000   \n#&gt;                          Occas    Female    87.00000   \n#&gt;                                   Male      87.00000   \n#&gt;                          Regul    Female    92.00000   \n#&gt;                                   Male      104.0000   \n#&gt;                          Heavy    Female    80.00000   \n#&gt;                                   Male      100.0000   \n#&gt;  ─────────────────────────────────────────────────────\n\n\n\n4.2.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Itt azt a megoldást választottuk, hogy a nem (Sex) szerint kettébontjuk az ábrát.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) +\n        # dobozdiagram kirajzolása\n        geom_boxplot(fill=\"#DCDCDC\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # panelekre osztjuk a rajzterületet a nem változó alapján\n        facet_wrap(~ Sex, nrow = 1, \n                   labeller = labeller(Sex=c(Female=\"Nő\", Male=\"Férfi\"))) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/dobozdiagram_02.png\", plot = p1, \n       units = \"in\", width = 7, height = 7*0.5, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n4.2.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Itt egyetlen ábrán jelenítjük meg a dohányzási szokásokat és a nemeket.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse, fill=Sex)) +\n        # dobozdiagram kirajzolása\n        geom_boxplot() + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#DCDCDC\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\", fill=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw() +\n        # a jelmagyarázat pozíciójának beállítása\n        theme(legend.position = \"top\")\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/dobozdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "05_oszlopdiagram.html#egydimenziós-oszlopdiagram",
    "href": "05_oszlopdiagram.html#egydimenziós-oszlopdiagram",
    "title": "5  Oszlopdiagram",
    "section": "5.1 Egydimenziós oszlopdiagram",
    "text": "5.1 Egydimenziós oszlopdiagram\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Smoke változó a dohányzásra vonatkozó kérdésre adott válaszokat tartalmazza. Rajzoljuk meg a dohányzási szokás eloszlását. Jellemezzük az eloszlást leíró, számszerű értékekkel is.\n\n\n\n5.1.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n5.1.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk,\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke, ordered = T)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n\n\n\n5.1.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Smoke\", freq = TRUE)\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                    \n#&gt;  ─────────────────────────────── \n#&gt;                          Smoke   \n#&gt;  ─────────────────────────────── \n#&gt;    N                       236   \n#&gt;    Missing                   1   \n#&gt;    Mean                          \n#&gt;    Median                        \n#&gt;    Standard deviation            \n#&gt;    Minimum                       \n#&gt;    Maximum                       \n#&gt;  ─────────────────────────────── \n#&gt; \n#&gt; \n#&gt;  FREQUENCIES\n#&gt; \n#&gt;  Frequencies of Smoke                              \n#&gt;  ───────────────────────────────────────────────── \n#&gt;    Smoke    Counts    % of Total    Cumulative %   \n#&gt;  ───────────────────────────────────────────────── \n#&gt;    Never       189      80.08475        80.08475   \n#&gt;    Occas        19       8.05085        88.13559   \n#&gt;    Regul        17       7.20339        95.33898   \n#&gt;    Heavy        11       4.66102       100.00000   \n#&gt;  ─────────────────────────────────────────────────\n\n\n\n5.1.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák abszolút gyakoriságát jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke)) + \n        # oszlopdiagram kirajzolása\n        geom_bar(fill=\"#dcdcdc\", col=\"#2e2e2e\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  aes(label = after_stat(count)), vjust = -0.5) +\n        # az y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 200)) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Gyakoriság\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.1.5 Publikációkész ábra - 2.\nÚjabb ábrát készítünk. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=after_stat(count/sum(count)))) + \n        # oszlopdiagram kirajzolása\n        geom_bar(fill=\"#dcdcdc\", col=\"#2e2e2e\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"count\", vjust = -0.5, size=2.6,\n                  aes(label = \n                        scales::percent(after_stat(count/sum(count)),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Százalékos gyakoriság\") +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # az y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 1)) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "05_oszlopdiagram.html#kétdimenziós-oszlopdiagram",
    "href": "05_oszlopdiagram.html#kétdimenziós-oszlopdiagram",
    "title": "5  Oszlopdiagram",
    "section": "5.2 Kétdimenziós oszlopdiagram",
    "text": "5.2 Kétdimenziós oszlopdiagram\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Smoke változó a dohányzásra vonatkozó kérdésre adott válaszokat tartalmazza. A Sex változó a nemet tartalmazza. Rajzoljuk meg a dohányzási szokás és a nem kapcsolatát. Jellemezzük az eloszlást leíró, számszerű értékekkel is.\n\n\n\n5.2.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n5.2.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na nem változó (Sex) nominális, így faktorrá kell alakítanunk,\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk,\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe,\nazokkal a személyekkel nem szeretnénk elemzést végezni, akiknek nincs megadva a nemük, vagy nem ismerjük a dohányzási szokásukat, így ezeket a sorokat kiszűrjük az adatbázisból.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Sex &lt;- factor(d$Sex)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n# kiszűrjük azokat a személyeket,akiknek nincs megadva a nemük vagy a\n# dohányzási szokásuk\nd &lt;- d |&gt;\n    dplyr::filter(!is.na(Sex) & !is.na(Smoke))\n\n\n\n5.2.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Smoke\", splitBy = \"Sex\", freq = TRUE)\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                              \n#&gt;  ───────────────────────────────────────── \n#&gt;                          Sex       Smoke   \n#&gt;  ───────────────────────────────────────── \n#&gt;    N                     Female      118   \n#&gt;                          Male        117   \n#&gt;    Missing               Female        0   \n#&gt;                          Male          0   \n#&gt;    Mean                  Female            \n#&gt;                          Male              \n#&gt;    Median                Female            \n#&gt;                          Male              \n#&gt;    Standard deviation    Female            \n#&gt;                          Male              \n#&gt;    Minimum               Female            \n#&gt;                          Male              \n#&gt;    Maximum               Female            \n#&gt;                          Male              \n#&gt;  ───────────────────────────────────────── \n#&gt; \n#&gt; \n#&gt;  FREQUENCIES\n#&gt; \n#&gt;  Frequencies of Smoke                                        \n#&gt;  ─────────────────────────────────────────────────────────── \n#&gt;    Smoke    Sex       Counts    % of Total    Cumulative %   \n#&gt;  ─────────────────────────────────────────────────────────── \n#&gt;    Never    Female        99      42.12766        42.12766   \n#&gt;             Male          89      37.87234        80.00000   \n#&gt;    Occas    Female         9       3.82979        83.82979   \n#&gt;             Male          10       4.25532        88.08511   \n#&gt;    Regul    Female         5       2.12766        90.21277   \n#&gt;             Male          12       5.10638        95.31915   \n#&gt;    Heavy    Female         5       2.12766        97.44681   \n#&gt;             Male           6       2.55319       100.00000   \n#&gt;  ───────────────────────────────────────────────────────────\n\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::contTables(data = d, rows = \"Sex\", cols = \"Smoke\", pcRow = T, pcCol = T,\n    pcTot = T)\n#&gt; \n#&gt;  CONTINGENCY TABLES\n#&gt; \n#&gt;  Contingency Tables                                          ...\n#&gt;  ────────────────────────────────────────────────────────────...\n#&gt;    Sex                          Never        Occas        Reg...\n#&gt;  ────────────────────────────────────────────────────────────...\n#&gt;    Female    Observed                  99            9       ...\n#&gt;              % within row        83.89831      7.62712      4...\n#&gt;              % within column     52.65957     47.36842     29...\n#&gt;              % of total          42.12766      3.82979      2...\n#&gt;                                                              ...\n#&gt;    Male      Observed                  89           10       ...\n#&gt;              % within row        76.06838      8.54701     10...\n#&gt;              % within column     47.34043     52.63158     70...\n#&gt;              % of total          37.87234      4.25532      5...\n#&gt;                                                              ...\n#&gt;    Total     Observed                 188           19       ...\n#&gt;              % within row        80.00000      8.08511      7...\n#&gt;              % within column    100.00000    100.00000    100...\n#&gt;              % of total          80.00000      8.08511      7...\n#&gt;  ────────────────────────────────────────────────────────────...\n#&gt; \n#&gt; \n#&gt;  χ² Tests                              \n#&gt;  ───────────────────────────────────── \n#&gt;          Value       df    p           \n#&gt;  ───────────────────────────────────── \n#&gt;    χ²    3.553618     3    0.3138744   \n#&gt;    N          235                      \n#&gt;  ─────────────────────────────────────\n\n\n\n5.2.4 Publikációkész ábra - 1.\nElkészítjük az ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák abszolút gyakoriságát jelenítjük meg. Az x tengelyen jelenítjük meg a dohányzási szokásokat, a kitöltés paraméterrel a nemeket különböztetjük meg, és az azonos dohányzási kategóriához tartozó gyakoriságokat egymásra halmozzuk.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, fill=Sex)) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"stack\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  aes(label = after_stat(count)), \n                  position = position_stack(vjust = 0.5)) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Gyakoriság\", fill=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.5 Publikációkész ábra - 2.\nÚjabb publikációkész ábrát készítünk. Most is olyan megjelenítést választottunk, amelyben az egyes kategóriák abszolút gyakoriságát jelenítjük meg. Az x tengelyen azonban a nemeket jelenítjük meg, a kitöltés paraméterrel a dohányzási szokásokat különböztetjük meg, és az azonos nemhez tartozó gyakoriságokat egymásra halmozzuk.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Sex, fill=Smoke)) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"stack\") + \n        # az x tengely beállítása\n        scale_x_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#E9E9E9\", \"#C9C9C9\", \"#A9A9A9\", \"#898989\"),\n                          na.translate = FALSE, \n                          labels=c(Never=\"Soha\", \n                                   Occas=\"Alkalmi\", \n                                   Regul=\"Rendszeres\",\n                                   Heavy=\"Erős\")) + \n        # gyakoriságok megjelenítése  \n        geom_text(stat = \"count\", size=2.6,\n                  aes(label = after_stat(count)), \n                  position = position_stack(vjust = 0.5)) +\n        # feliratok hozzáadása\n        labs(x = \"Nem\", y = \"Gyakoriság\", fill=\"Dohányzás\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák abszolút gyakoriságát jelenítjük meg. Az x tengelyen jelenítjük meg a dohányzási szokásokat, a kitöltés paraméterrel a nemeket különböztetjük meg és egymás melletti oszlopokba írjuk őket.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, fill=Sex)) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"dodge\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  aes(label = after_stat(count)), \n                  position=position_dodge(width=0.95), vjust=-0.4) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Gyakoriság\", fill=\"Nem\") +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 110)) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.7 Publikációkész ábra - 4.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák abszolút gyakoriságát jelenítjük meg. Az x tengelyen jelenítjük meg a nemeket, a kitöltés paraméterrel a dohányzási szokásokat különböztetjük meg és egymás melletti oszlopokba írjuk őket.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Sex, fill=Smoke)) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"dodge\") + \n        # az x tengely beállítása\n        scale_x_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#E9E9E9\", \"#C9C9C9\", \"#A9A9A9\", \"#898989\"),\n                          na.translate = FALSE, \n                          labels=c(Never=\"Soha\", \n                                   Occas=\"Alkalmi\", \n                                   Regul=\"Rendszeres\",\n                                   Heavy=\"Erős\")) + \n        # gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  aes(label = after_stat(count)), \n                  position=position_dodge(width=0.95), vjust=-0.4) +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 110)) +\n        # feliratok hozzáadása\n        labs(x = \"Nem\", y = \"Gyakoriság\", fill=\"Dohányzás\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.8 Publikációkész ábra - 5.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg a teljes mintára vonatkoztatva (a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a dohányzási szokásokat, a kitöltés paraméterrel a nemeket különböztetjük meg, és az azonos dohányzási kategóriába tartozó százalékos gyakoriságokat egymásra halmozzuk.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, fill=Sex, y=after_stat(count/sum(count)))) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"stack\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  position = position_stack(vjust = 0.5),\n                  aes(label = \n                        scales::percent(after_stat(count/sum(count)),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Százalékos gyakoriság (total)\", fill=\"Nem\") +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.9 Publikációkész ábra - 6.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg a teljes mintára vonatkoztatva (a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a nemeket, a kitöltés paraméterrel a dohányzási szokásokat különböztetjük meg, és az azonos nemhez tartozó százalékos gyakoriságokat egymásra halmozzuk.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Sex, fill=Smoke, y=after_stat(count/sum(count)))) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"stack\") + \n        # az x tengely beállítása\n        scale_x_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#E9E9E9\", \"#C9C9C9\", \"#A9A9A9\", \"#898989\"),\n                          na.translate = FALSE, \n                          labels=c(Never=\"Soha\", \n                                   Occas=\"Alkalmi\", \n                                   Regul=\"Rendszeres\",\n                                   Heavy=\"Erős\")) + \n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6, \n                  position = position_stack(vjust = 0.5),\n                  aes(label = \n                        scales::percent(after_stat(count/sum(count)),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # feliratok hozzáadása\n        labs(x = \"Nem\", y = \"Százalékos gyakoriság (total)\", fill=\"Dohányzás\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.10 Publikációkész ábra - 7.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg a teljes mintára vonatkoztatva (a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a dohányzási szokásokat, a kitöltés paraméterrel a nemeket különböztetjük meg, és az azonos dohányzási kategóriába tartozó százalékos gyakoriságokat egymás mellett jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, fill=Sex, y=after_stat(count/sum(count)))) +\n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"dodge\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#A9A9A9\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  position=position_dodge(width=0.95), vjust=-0.4,\n                  aes(label = \n                        scales::percent(after_stat(count/sum(count)),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 0.5)) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Százalékos gyakoriság (total)\", fill=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.11 Publikációkész ábra - 8.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg a teljes mintára vonatkoztatva (a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a nemeket, a kitöltés paraméterrel a dohányzási szokásokat különböztetjük meg, és az azonos nemhez tartozó százalékos gyakoriságokat egymás mellett jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Sex, fill=Smoke, y=after_stat(count/sum(count)))) +\n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"dodge\") + \n        # az x tengely beállítása\n        scale_x_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#E9E9E9\", \"#C9C9C9\", \"#A9A9A9\", \"#898989\"),\n                          na.translate = FALSE, \n                          labels=c(Never=\"Soha\", \n                                   Occas=\"Alkalmi\", \n                                   Regul=\"Rendszeres\",\n                                   Heavy=\"Erős\")) + \n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"count\", size=2.6,\n                  position=position_dodge(width=0.95), vjust=-0.4,\n                  aes(label = \n                        scales::percent(after_stat(count/sum(count)),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 0.5)) +\n        # feliratok hozzáadása\n        labs(x = \"Nem\", y = \"Százalékos gyakoriság (total)\", fill=\"Dohányzás\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.12 Publikációkész ábra - 9.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg az x tengelyen szereplő faktor egyes kategóriára vonatkoztatva (az x tengely minden egyes kategóriájában a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a dohányzási szokásokat jelenítjük meg, a kitöltés paraméterrel a nemeket különböztetjük meg, és az azonos dohányzási szokáshoz tartozó százalékos gyakoriságokat egymás mellett jelenítjük meg (ezek összege 100%).\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\nlibrary(GGally)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, fill=Sex, by=Smoke, y=after_stat(prop))) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", stat=\"prop\", position=\"dodge\") + \n        # az x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#898989\"),\n                          label=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"prop\", size=2.6, col=\"black\",\n                  position=position_dodge(width=0.95), vjust=-0.4,\n                  aes(label = \n                        scales::percent(after_stat(prop),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 0.75)) +\n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", fill = \"Nem\",\n             y = \"Százalékos gyakoriság\\n(dohányzási szokásonként vett)\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n5.2.13 Publikációkész ábra - 10.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben az egyes kategóriák százalékos relatív gyakoriságát jelenítjük meg az x tengelyen szereplő faktor egyes kategóriára vonatkoztatva (az x tengely minden egyes kategóriájában a megjelenített százalékos értékek összege 100%). Az x tengelyen jelenítjük meg a nemeket, a kitöltés paraméterrel a dohányzási szokásokat különböztetjük meg, és az azonos nemhez tartozó százalékos gyakoriságokat egymás mellett jelenítjük meg (ezek összege 100%).\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\nlibrary(GGally)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Sex, fill=Smoke, by=Sex, y=after_stat(prop))) + \n        # oszlopdiagram kirajzolása\n        geom_bar(col=\"#2e2e2e\", position=\"dodge\", stat=\"prop\") + \n        # az x tengely beállítása\n        scale_x_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) + \n        # a kitöltés (fill) paraméterek beálltása\n        scale_fill_manual(values = c(\"#D9D9D9\", \"#B9B9B9\", \"#999999\", \"#797979\"),\n                          na.translate = FALSE, \n                          labels=c(Never=\"Soha\", \n                                   Occas=\"Alkalmi\", \n                                   Regul=\"Rendszeres\",\n                                   Heavy=\"Erős\")) + \n        # százalékos gyakoriságok megjelenítése\n        geom_text(stat = \"prop\", size=2.6, col=\"black\",\n                  position=position_dodge(width=0.85), vjust=-0.4,\n                  aes(label = \n                        scales::percent(after_stat(prop),\n                                        decimal.mark = \",\", \n                                        accuracy = 0.1))) +\n        # y tengely formázása\n        scale_y_continuous(labels = scales::percent) +\n        # y tengely láthatóságának beállítása\n        coord_cartesian(ylim = c(0, 0.95)) +\n        # feliratok hozzáadása\n        labs(x = \"Nem\", fill=\"Dohányzás\",\n             y = \"Százalékos gyakoriság\\n(nemenként vett)\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/oszlopdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "06_pontdiagram.html#egydimenziós-pontdiagram",
    "href": "06_pontdiagram.html#egydimenziós-pontdiagram",
    "title": "6  Pontdiagram",
    "section": "6.1 Egydimenziós pontdiagram",
    "text": "6.1 Egydimenziós pontdiagram\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Smoke változó a dohányzásra vonatkozó kérdésre adott válaszokat tartalmazza. A Pulse változó a pulzust méri. Rajzoljuk meg a pulzus nyers pontjait a dohányzási szokás egyes kategóriáiban, adjuk meg az átlagot és a mediánt is.\n\n\n\n6.1.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n6.1.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na dohányzási szokásokat tartalmazó változó (Smoke) ordinális, így faktorrá kell alakítanunk\nrendezzük az ordinálissá alakított Smoke változó szintjeit a természetes sorrendbe.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Smoke &lt;- factor(d$Smoke, ordered = T)\n# faktor szintjeinek rendezése\nd$Smoke &lt;- forcats::fct_relevel(d$Smoke, \"Never\", \"Occas\", \"Regul\", \"Heavy\")\n\n\n\n6.1.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Pulse\", split = \"Smoke\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                \n#&gt;  ─────────────────────────────────────────── \n#&gt;                          Smoke    Pulse      \n#&gt;  ─────────────────────────────────────────── \n#&gt;    N                     Never         152   \n#&gt;                          Occas          16   \n#&gt;                          Regul          16   \n#&gt;                          Heavy           7   \n#&gt;    Missing               Never          37   \n#&gt;                          Occas           3   \n#&gt;                          Regul           1   \n#&gt;                          Heavy           4   \n#&gt;    Mean                  Never    73.99342   \n#&gt;                          Occas    73.93750   \n#&gt;                          Regul    73.68750   \n#&gt;                          Heavy    78.28571   \n#&gt;    Median                Never    72.00000   \n#&gt;                          Occas    76.00000   \n#&gt;                          Regul    69.00000   \n#&gt;                          Heavy    80.00000   \n#&gt;    Standard deviation    Never    11.71035   \n#&gt;                          Occas    9.226547   \n#&gt;                          Regul    14.42553   \n#&gt;                          Heavy    11.70063   \n#&gt;    Minimum               Never    35.00000   \n#&gt;                          Occas    60.00000   \n#&gt;                          Regul    50.00000   \n#&gt;                          Heavy    65.00000   \n#&gt;    Maximum               Never    104.0000   \n#&gt;                          Occas    87.00000   \n#&gt;                          Regul    104.0000   \n#&gt;                          Heavy    100.0000   \n#&gt;  ───────────────────────────────────────────\n\n\n\n6.1.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amelyben a pontokat egy kis eltolással jelenítjük meg, hogy az egymást átfedő pontok lehetőleg ne takarják ki egymást. A pontokat áttetszőre rajzoltuk, hogy az egymásra rajzolt pontok sűrűsége is látható legyen. Az átlagot és a mediánt is megjelenítjük. Az átlagot egy nagy szürke ponttal, a mediánt egy fekete vonallal jelöljük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # pontdiagram kirajzolása, véletlen x irányú eltolással\n        geom_jitter(width = 0.1, height = 0, alpha=0.4) + \n        # átlag megjelenítése egy nagy szürke ponttal\n        stat_summary(fun = mean, geom = \"point\", \n                     size=5, shape=21, fill=\"#dcdcdc\", col=\"black\",\n                     position = position_dodge(width = 0.5)) +\n        # medián megjelenítése egy fekete vonallal\n        stat_summary(fun=median, fun.min=median, fun.max=median, \n                     geom=\"crossbar\", col=\"black\",\n                     position = position_dodge(width = 0.5)) +\n        # x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_01.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n6.1.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most olyan megjelenítést választottunk, amely a pontok egymásra rajzolását a lehetőség szerint elkerüli. A pontokat áttetszőre rajzoltuk, hogy az egymásra rajzolt pontok sűrűsége is látható legyen. Az átlagot és a mediánt is megjelenítjük. Az átlagot egy nagy szürke ponttal, a mediánt egy fekete vonallal jelöljük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# a p1 objektuma rajzolunk\np1 &lt;- ggplot(data=d, aes(x=Smoke, y=Pulse)) + \n        # pontok kirajzolása, egymásra rajzolás elkerülése\n        ggbeeswarm::geom_quasirandom(alpha=0.4) + \n        # átlag megjelenítése egy nagy szürke ponttal\n        stat_summary(fun = mean, geom = \"point\", \n                     size=5, shape=21, fill=\"#dcdcdc\", col=\"black\",\n                          position = position_dodge(width = 0.5)) +\n        # medián megjelenítése egy fekete vonallal\n        stat_summary(fun=median, fun.min=median, fun.max=median, \n                     geom=\"crossbar\", col=\"black\",\n                     position = position_dodge(width = 0.5)) +\n        # x tengely beállítása\n        scale_x_discrete(na.translate = FALSE, \n                         labels=c(Never=\"Soha\", \n                                  Occas=\"Alkalmi\", \n                                  Regul=\"Rendszeres\",\n                                  Heavy=\"Erős\")) + \n        # feliratok hozzáadása\n        labs(x = \"Dohányzás\", y = \"Pulzus\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_02.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "06_pontdiagram.html#kétdimenziós-pontdiagram---csoportosítás-nélkül",
    "href": "06_pontdiagram.html#kétdimenziós-pontdiagram---csoportosítás-nélkül",
    "title": "6  Pontdiagram",
    "section": "6.2 Kétdimenziós pontdiagram - csoportosítás nélkül",
    "text": "6.2 Kétdimenziós pontdiagram - csoportosítás nélkül\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Height változó a magasságot tartalmazza cm-ben, míg a NW.Hnd annak a kezünknek a méretét, amelyikkel nem szoktunk írni. Készítsünk kétdimenziós pontdiagramot a testmagasság és a kéz hossza változók kapcsolatának vizsgálatára.\n\n\n\n6.2.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n6.2.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Azonban ez nem minden adatbázis esetén szükséges, ebben az esetben sem.\n\n\n6.2.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = c(\"Height\", \"NW.Hnd\"))\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                   \n#&gt;  ────────────────────────────────────────────── \n#&gt;                          Height      NW.Hnd     \n#&gt;  ────────────────────────────────────────────── \n#&gt;    N                          209         236   \n#&gt;    Missing                     28           1   \n#&gt;    Mean                  172.3809    18.58263   \n#&gt;    Median                171.0000    18.50000   \n#&gt;    Standard deviation    9.847528    1.967068   \n#&gt;    Minimum               150.0000    12.50000   \n#&gt;    Maximum               200.0000    23.50000   \n#&gt;  ──────────────────────────────────────────────\n\n\n\n6.2.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most csupán a pontokat jelenítjük meg.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd)) + \n        # pontok kirajzolása\n        geom_point(shape=21, size=2, fill=\"#7c7c7c\", col=\"black\", alpha=0.4) + \n          # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_03.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n6.2.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most a pontok mellett a lineáris regressziós egyenest is megjelenítjük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd)) + \n        # pontok kirajzolása\n        geom_point(shape=21, size=2, fill=\"#7c7c7c\", col=\"black\", alpha=0.4) + \n        # a regressziós egyenes\n        geom_smooth(method = \"lm\", se=F, colour=\"black\", linewidth=0.8) +\n        # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_04.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n6.2.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most pontok és a lineáris regressziós egyenes megjelenítése mellett egy görbeillesztést is elvégzünk.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd)) + \n        # pontok kirajzolása\n        geom_point(shape=21, size=2, fill=\"#7c7c7c\", col=\"black\", alpha=0.4) + \n        # a regressziós egyenes\n        geom_smooth(method = \"lm\", se=F, colour=\"black\", linewidth=0.8) +\n        # illesztés görbe segítségével\n        geom_smooth(method = \"loess\", se=F, colour=\"black\", linetype=\"dashed\", size=0.8) +\n        # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_05.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  },
  {
    "objectID": "06_pontdiagram.html#kétdimenziós-pontdiagram---csoportosítással",
    "href": "06_pontdiagram.html#kétdimenziós-pontdiagram---csoportosítással",
    "title": "6  Pontdiagram",
    "section": "6.3 Kétdimenziós pontdiagram - csoportosítással",
    "text": "6.3 Kétdimenziós pontdiagram - csoportosítással\n\n\n\n\n\n\nFeladat\n\n\n\nA survey.xlsx 237 egyetemista adatát tartalmazza. A Height változó a magasságot tartalmazza cm-ben, míg a NW.Hnd annak a kezünknek a méretét, amelyekkel nem szoktunk írni. A nem változó (Sex) figyelembevételével készítsünk kétdimenziós pontdiagramot a testmagasság és a kéz hossza változók kapcsolatának vizsgálatára.\n\n\n\n6.3.1 Adatok beolvasása\nElvégezzük az adatok beolvasását a survey.xlsx fájlból. Ha az adatok SPSS .sav formátumban állnak rendelkezésre, akkor a beolvasás ugyanígy történik.\n\n# Adatok beolvasása\nd &lt;- rio::import(file = \"adat/survey.xlsx\")\n\n\n\n6.3.2 Előkészítés\nElképzelhető, hogy adataink közvetlenül a beolvasás után még nincsenek elemezhető állapotban. Néhány előkészítő lépést most valóban el kell végeznünk, de ez nem minden adatbázis esetén szükséges:\n\na nem változó (Sex) nominális, így faktorrá kell alakítanunk,\nazokkal a személyekkel nem szeretnénk elemzést végezni, akiknek nincs megadva a nemük, így ezeket a sorokat kiszűrjük az adatbázisból.\n\n\nlibrary(tidyverse)\n# faktorrá alakítás\nd$Sex &lt;- factor(d$Sex)\n# kiszűrjük azokat a személyeket,akiknek nincs megadva a nemük\nd &lt;- d |&gt;\n    dplyr::filter(!is.na(Sex))\n\n\n\n6.3.3 Elemzés\nLeíró statisztikai elemzés segítségével megnézzük, hogy milyen értékek ábrázolását fogjuk elvégezni.\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = \"Sex\", freq = T)\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                  \n#&gt;  ───────────────────────────── \n#&gt;                          Sex   \n#&gt;  ───────────────────────────── \n#&gt;    N                     236   \n#&gt;    Missing                 0   \n#&gt;    Mean                        \n#&gt;    Median                      \n#&gt;    Standard deviation          \n#&gt;    Minimum                     \n#&gt;    Maximum                     \n#&gt;  ───────────────────────────── \n#&gt; \n#&gt; \n#&gt;  FREQUENCIES\n#&gt; \n#&gt;  Frequencies of Sex                                 \n#&gt;  ────────────────────────────────────────────────── \n#&gt;    Sex       Counts    % of Total    Cumulative %   \n#&gt;  ────────────────────────────────────────────────── \n#&gt;    Female       118      50.00000        50.00000   \n#&gt;    Male         118      50.00000       100.00000   \n#&gt;  ──────────────────────────────────────────────────\n\n\n# leíró statisztikai mutatók a jmv csomag segítségével\njmv::descriptives(data = d, vars = c(\"Height\", \"NW.Hnd\"), splitBy = \"Sex\")\n#&gt; \n#&gt;  DESCRIPTIVES\n#&gt; \n#&gt;  Descriptives                                             \n#&gt;  ──────────────────────────────────────────────────────── \n#&gt;                          Sex       Height      NW.Hnd     \n#&gt;  ──────────────────────────────────────────────────────── \n#&gt;    N                     Female         102         118   \n#&gt;                          Male           106         117   \n#&gt;    Missing               Female          16           0   \n#&gt;                          Male            12           1   \n#&gt;    Mean                  Female    165.6867    17.45678   \n#&gt;                          Male      178.8260    19.71453   \n#&gt;    Median                Female    166.7500    17.60000   \n#&gt;                          Male      180.0000    19.50000   \n#&gt;    Standard deviation    Female    6.151777    1.407822   \n#&gt;                          Male      8.380252    1.804605   \n#&gt;    Minimum               Female    150.0000    12.50000   \n#&gt;                          Male      154.9400    13.30000   \n#&gt;    Maximum               Female    180.3400    20.70000   \n#&gt;                          Male      200.0000    23.50000   \n#&gt;  ────────────────────────────────────────────────────────\n\n\n\n6.3.4 Publikációkész ábra - 1.\nElkészítjük a publikációkész ábrát. Most csupán a pontokat jelenítjük meg, de a nem változó hatását is figyelembe vesszük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd, \n                         col=Sex, shape=Sex)) + \n        # pontok kirajzolása\n        geom_point(size=2) + \n        # színek beállítása\n        scale_colour_manual(values=c(\"#acacac\", \"#3d3d3d\"),\n          labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # formák beállítása\n        scale_shape_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\",\n             color=\"Nem\", shape=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_06.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n6.3.5 Publikációkész ábra - 2.\nElkészítjük a publikációkész ábrát. Most pontok mellett a lineáris regressziós egyenest is megjelenítjük. A nem változó hatását is figyelembe vesszük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd, \n                         col=Sex, shape=Sex, linetype=Sex)) + \n        # pontok kirajzolása\n        geom_point(size=2) + \n        # színek beállítása\n        scale_colour_manual(values=c(\"#acacac\", \"#3d3d3d\"),\n          labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # formák beállítása\n        scale_shape_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # vonaltípus beállítása\n        scale_linetype_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # a regressziós egyenes\n        geom_smooth(method = \"lm\", se=F, colour=\"black\", linewidth=0.8) +\n        # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\",\n             color=\"Nem\", shape=\"Nem\", linetype=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_07.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre\n\n\n\n\n\n\n\n\n\n\n6.3.6 Publikációkész ábra - 3.\nElkészítjük a publikációkész ábrát. Most pontok és a lineáris regressziós egyenes megjelenítése mellett egy görbeillesztést is elvégzünk. A nem változó hatását is figyelembe vesszük.\n\n# ggplot2 csomagok betöltése\nlibrary(ggplot2)\n\n# p1 - kétdimenziós pontdiagram\np1 &lt;- ggplot(data=d, aes(x=Height, y=NW.Hnd, \n                         col=Sex, shape=Sex, linetype=Sex)) + \n        # pontok kirajzolása\n        geom_point(size=2) + \n        # színek beállítása\n        scale_colour_manual(values=c(\"#acacac\", \"#3d3d3d\"),\n          labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # formák beállítása\n        scale_shape_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # vonaltípus beállítása\n        scale_linetype_discrete(labels=c(Female=\"Nő\", Male=\"Férfi\")) +\n        # a regressziós egyenes\n        geom_smooth(method = \"lm\", se=F, colour=\"black\", linewidth=0.8) +\n        # illesztés görbe segítségével\n        geom_smooth(method = \"loess\", se=F, colour=\"black\", size=0.8) +\n        # feliratok hozzáadása\n        labs(x = \"Testmagasság (cm)\", y = \"Kézméret (cm, nem írunk)\",\n             color=\"Nem\", shape=\"Nem\", linetype=\"Nem\") +\n        # fekete-fehér stílus hozzáadása\n        theme_bw()\n\n# p1 # a p1 ábra kirajzolása\n\n# a p1 ábra mentése\nggsave(\"output/kep/pontdiagram_08.png\", plot = p1, \n       units = \"in\", width = 6, height = 6*0.6, dpi = 300, scale = 0.8)\n\n\np1  # a p1 ábra kirajzolása a képernyőre"
  }
]